---
layout: post
title: Java中的集合体系
subtitle: 这个也是个基础鸭😝😝😝
date: 2019-02-20
author: 华仔
header-img: img/post-bg-debug.png
catalog: true
tags:
    - Java
    - 基础知识
---

## 集合体系



- **Collection**(interface)
  - **Set**(interface)
    - **HashSet**(class): extends *AbstractSet*(abstract class),implements *Set*(interface)
    	- **LinkedHashSet**(class):extends ***HashSet***(class),implements *Set*(interface)
    - **TreeSet**(class): extends *AbstractSet*(abstract class),implements *NavigableSet*(interface)
  - **List**(interface)
    - **ArrayList**(class):extends *AbstractList*(abstract class),implements *List*(interface)
    - **Vector**(class):extends *AbstractList*(abstract class),implements *List*(interface)
    - **LinkedList**(class):extends *AbstractSequentialList*(abstract class),implements *List*(interface),Deque(Queue的子接口)
  - **Queue**(interface):队列是一种特殊的线性表,FIFO的数据结构
    - **PriorityQueue**(class):extends *AbstractQueue*
- **Map**(interface)
  - **HashMap**(class):extends *AbstractMap*(abstract class),implements *Map*(interface)
  	- **LinkedHashMap**(class):extends ***HashMap***(class),implements *Map*(interface)
  - **HashTable**(class):extends *Dictionary*(abstract class),implements *Map*(interface)
  - **TreeMap**(class):extends *AbstractMap*(abstract class),implements *NavigableMap*(interface)

![集合体系](http://blog-ipic.yananhuazai.cn/Fr2ukTsPAGkj8WCGO1QSSfAXvzn3)



## Collection接口

- ### Set接口

```java
public class TreeSetExample {
    public static void main(String[] args) {
        User user1 = new User("zhangsan",18);
        User user2 = new User("lisi",18);
        User user3 = new User("lisi",20);
        User user4 = new User("lisi",20);
        User user5 = new User("wangwu",26);
        User user6 = new User("zhaoliu",15);

        TreeSet<User> treeSet = new TreeSet<>();
        treeSet.add(user1);
        treeSet.add(user2);
        treeSet.add(user3);
        treeSet.add(user4);
        treeSet.add(user5);
        treeSet.add(user6);

        for (User user : treeSet) {
            System.out.println(user);
        }
    }
}
class User {
    private String name;
    private Integer age;

    public User(String name, Integer age) {
        this.name = name;
        this.age = age;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public Integer getAge() {
        return age;
    }

    public void setAge(Integer age) {
        this.age = age;
    }

    @Override
    public String toString() {
        return "User{" +
                "name='" + name + '\'' +
                ", age=" + age +
                '}';
    }
}
```

运行结果:

```java
Exception in thread "main" java.lang.ClassCastException: cn.huazai.main.collection_interface.User cannot be cast to java.lang.Comparable
	at java.util.TreeMap.compare(TreeMap.java:1294)
	at java.util.TreeMap.put(TreeMap.java:538)
	at java.util.TreeSet.add(TreeSet.java:255)
	at cn.huazai.main.collection_interface.TreeSetExample.main(TreeSetExample.java:21)
```

修改后:

```java
public class TreeSetExample {
    public static void main(String[] args) {
        User user1 = new User("zhangsan",18);
        User user2 = new User("lisi",18);
        User user3 = new User("lisi",20);
        User user4 = new User("lisi",20);
        User user5 = new User("wangwu",26);
        User user6 = new User("zhaoliu",15);
        User user7 = new User("zhangsan",14);

        TreeSet<User> treeSet = new TreeSet<>();
        treeSet.add(user1);
        treeSet.add(user2);
        treeSet.add(user3);
        treeSet.add(user4);
        treeSet.add(user5);
        treeSet.add(user6);
        treeSet.add(user7);

        for (User user : treeSet) {
            System.out.println(user);
        }
    }
}
class User implements Comparable<User> {
    private String name;
    private Integer age;

    public User(String name, Integer age) {
        this.name = name;
        this.age = age;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public Integer getAge() {
        return age;
    }

    public void setAge(Integer age) {
        this.age = age;
    }

    @Override
    public String toString() {
        return "User{" +
                "name='" + name + '\'' +
                ", age=" + age +
                '}';
    }

    @Override
    public int compareTo(User u) {
        //return -1; //表示放在红黑树左边 倒序输出 LIFO(后进先出)
        //return 1; //表示放在红黑树右边 顺序输出 FIFO(先进先出)
        //return 0; //表示元素相同,忽略,不存入

        //姓名的长度,如果姓名长度小的就放在左子树，否则放在右子树
        int num = this.name.length() - u.name.length();
        //姓名的长度相同，不代表内容相同,如果按字典顺序此 String 对象位于参数字符串之前，则比较结果为一个负整数。
        //如果按字典顺序此 String 对象位于参数字符串之后，则比较结果为一个正整数。
        //如果这两个字符串相等，则结果为 0
        int num1 = num == 0 ? this.name.compareTo(u.name) : num;
        //姓名的长度和内容相同，不代表年龄相同，所以还要判断年龄
        int num2 = num1 == 0 ? this.age - u.age : num1;
        System.out.println("this.name:"+this.name+",u.name:"+u.name+",num2:"+num2);
        return num2;
    }
}
```

执行结果:

```java
this.name:zhangsan,u.name:zhangsan,num2:0
this.name:lisi,u.name:zhangsan,num2:-4
this.name:lisi,u.name:zhangsan,num2:-4
this.name:lisi,u.name:lisi,num2:2
this.name:lisi,u.name:lisi,num2:0
this.name:wangwu,u.name:lisi,num2:2
this.name:wangwu,u.name:zhangsan,num2:-2
this.name:zhaoliu,u.name:lisi,num2:3
this.name:zhaoliu,u.name:zhangsan,num2:-1
this.name:zhaoliu,u.name:wangwu,num2:1
this.name:zhangsan,u.name:lisi,num2:4
this.name:zhangsan,u.name:zhaoliu,num2:1
this.name:zhangsan,u.name:zhangsan,num2:-4
User{name='lisi', age=18}
User{name='lisi', age=20}
User{name='wangwu', age=26}
User{name='zhaoliu', age=15}
User{name='zhangsan', age=14}
User{name='zhangsan', age=18}
```





- ### List接口

- ### Queue接口

